# S3 –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç

ü™£ –í —ç—Ç–æ–º [–≤–∏–¥–µ–æ](https://youtu.be/Vfe5H3bD2SQ) —Ç—ã —É–∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–∞–∫–æ–µ S3 –∏ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ
—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∞—Ç–∞-–∏–Ω–∂–µ–Ω–µ—Ä–∏–∏.

üíº –•–æ—á–µ—à—å —É—Å–∫–æ—Ä–∏—Ç—å —Ä–æ—Å—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ? –Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ –ø–æ –¥–∞—Ç–∞-–∏–Ω–∂–µ–Ω–µ—Ä–∏–∏ –∏ IT-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:

- –ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ: https://korsak0v.notion.site/Data-Engineer-185c62fdf79345eb9da9928356884ea0
- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏: https://korsak0v.notion.site/Data-Engineer-185c62fdf79345eb9da9928356884ea0

–Ø –æ–±—ä—è—Å–Ω—é:

- –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —á–µ–º –æ–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∏ –±–ª–æ—á–Ω–æ–≥–æ
- –ü–æ—á–µ–º—É S3 —Å—Ç–∞–ª —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±–ª–∞–∫–∞—Ö
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã S3: buckets, –æ–±—ä–µ–∫—Ç—ã, –∫–ª—é—á–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç S3 API –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å S3: —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–æ–≤, –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è S3: Data Lake, —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏, ML, Big Data

–≠—Ç–æ –≤–∏–¥–µ–æ ‚Äî —Ç–≤–æ—è –±–∞–∑–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –≤ data engineering, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ —Ä–∞–±–æ—Ç–µ —Å –æ–±–ª–∞—á–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏.

–°—Å—ã–ª–∫–∏:

- –ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ/–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ IT ‚Äì https://korsak0v.notion.site/Data-Engineer-185c62fdf79345eb9da9928356884ea0
- TG –∫–∞–Ω–∞–ª ‚Äì https://t.me/DataLikeQWERTY
- Instagram ‚Äì https://www.instagram.com/i__korsakov/
- Habr ‚Äì https://habr.com/ru/users/k0rsakov/publications/articles/
- Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ –≤–∏–¥–µ–æ ‚Äì https://github.com/k0rsakov/pet_project_s3_as_standard

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Å—è, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –¥–∞—Ç–∞-–∏–Ω–∂–µ–Ω–µ—Ä–∞! –û—Å—Ç–∞–≤–ª—è–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏, –∫–∞–∫ —Ç—ã
–∏—Å–ø–æ–ª—å–∑—É–µ—à—å S3 –∏–ª–∏ —Å –∫–∞–∫–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è.

–¢–∞–π–º–∏–Ω–≥–∏:
- 00:00 ‚Äì –ù–∞—á–∞–ª–æ
- 01:10 ‚Äì –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è
- 03:39 ‚Äì –ß—Ç–æ —Ç–∞–∫–æ–µ S3?
- 04:45 ‚Äì –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ?
- 06:30 ‚Äì –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- 08:35 ‚Äì –ü–æ—á–µ–º—É S3 —Ç–∞–∫ –ø–æ–ø—É–ª—è—Ä–µ–Ω?
- 09:58 ‚Äì –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- 10:50 ‚Äì –ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- 11:59 ‚Äì –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- 12:47 ‚Äì –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- 14:07 ‚Äì –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–æ S3
- 15:09 ‚Äì –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- 17:42 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –±–∞–∫–µ—Ç–æ–≤ (bucket)
- 21:14 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (object)
- 22:19 ‚Äì –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–∞ –≤ S3
- 23:00 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (object) –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- 23:38 ‚Äì –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞ (bucket)
- 24:40 ‚Äì –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞ (bucket)
- 25:04 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –±–∞–∫–µ—Ç–æ–≤ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ (bucket)
- 25:28 ‚Äì –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ S3 –ø—Ä–∏ –ø–æ–º–æ—â–∏ DuckDB
- 26:40 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (object) –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ DuckDB
- 26:58 ‚Äì –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ S3 –ø—Ä–∏ –ø–æ–º–æ—â–∏ DuckDB
- 27:43 ‚Äì –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ S3 –ø—Ä–∏ –ø–æ–º–æ—â–∏ Pandas
- 28:46 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (object) –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Pandas
- 29:17 ‚Äì –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ S3 –ø—Ä–∏ –ø–æ–º–æ—â–∏ Pandas
- 29:37 ‚Äì –û–¥–∏–Ω S3 API –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â
- 30:04 ‚Äì –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â

#S3 #–æ–±—ä–µ–∫—Ç–Ω–æ–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ #dataengineering #–¥–∞—Ç–∞–∏–Ω–∂–µ–Ω–µ—Ä #–æ–±–ª–∞—á–Ω—ã–µ_—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ #BigData #ML #Python #PetProject #MinIO #Ceph

## –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3.12 -m venv venv && \
source venv/bin/activate && \
pip install --upgrade pip && \
pip install poetry && \
poetry lock && \
poetry install
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–∏ÃÜ –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
poetry lock && \
poetry install
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ pyproject.toml

```bash
poetry add <package_name>=<version>
```

## –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
docker-compose up -d
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ S3

–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
curl -LfO https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv 
```

## –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ S3?

### –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è

- **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (File Storage):
    - –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–∞—Ö –∏ –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞–ø–∫–∞/—Ñ–∞–π–ª.txt).
    - –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–µ–ª–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, –¥–æ–º–∞—à–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–±–æ—á–∏—Ö —Å—Ç–∞–Ω—Ü–∏–π.
- **–ë–ª–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (Block Storage):
    - –î–∞–Ω–Ω—ã–µ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –±–ª–æ–∫–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫, SSD, iSCSI).
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å.
- **–û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (Object Storage):
    - –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ "*–æ–±—ä–µ–∫—Ç–æ–≤*".
    - –ö–∞–∂–¥—ã–π `–æ–±—ä–µ–∫—Ç` = `—Ñ–∞–π–ª` + `–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ` + `—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á` (–∏–º—è/–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä).
    - –°—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –Ω–µ—Ç, –µ—Å—Ç—å "–±–∞–∫–µ—Ç—ã" (buckets), –∫–∞–∫ –±–æ–ª—å—à–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

### –ß—Ç–æ —Ç–∞–∫–æ–µ S3?

- **S3 (Simple Storage Service)** ‚Äî —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.
- S3 ‚Äì —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
    - –õ–æ–≥–∏, —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏, –±–æ–ª—å—à–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã, —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ–∞—Ä—Ö–∏–≤—ã, data lake.
- **S3 API** ‚Äì –Ω–∞–±–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ (`PUT`, `GET`, `DELETE` –∏ —Ç.–ø.).
- –ò–¥–µ—è S3 —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–Ω–æ–≥–∏–º–∏ –æ–±–ª–∞–∫–∞–º–∏: MinIO, Selectel, VK Cloud, Yandex Cloud, Google Cloud Storage,
  etc.

### –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ?

```mermaid
flowchart TB
    subgraph Bucket ["Bucket (–ö–æ—Ä–∑–∏–Ω–∞)"]
        A1["Object 1 (—Ñ–∞–π–ª, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–ª—é—á)"]
        A2["Object 2 (—Ñ–æ—Ç–æ.jpg, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–ª—é—á)"]
        A3["Object 3 (backup.tar.gz, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–ª—é—á)"]
    end
    User["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–ø—Ä–æ–≥—Ä–∞–º–º–∞"] -- S3 API --> Bucket
```

- **Bucket** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ (–º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –ø–∞–ø–∫—É –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è).
- **Object** ‚Äî –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ñ–∞–π–ª), –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ bucket.
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ (–¥–∞—Ç–∞, —Ç–∏–ø, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–≥–∏ –∏ –ø—Ä.).
- **–ö–ª—é—á (key)** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –æ–±—ä–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ bucket (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2024/photos/image1.jpg`).

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–≤—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è "*–ø–ª–æ—Å–∫–æ*", –Ω–æ –∫–ª—é—á–∏ –º–æ–≥—É—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç–∏).
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–æ —Ç—Ä–∏–ª–ª–∏–æ–Ω–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤.
- –î–µ—à—ë–≤–æ–µ –∏ –Ω–∞–¥—ë–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ.
- –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
    - Data Lake
    - Backup
    - Big Data
    - –ê—Ä—Ö–∏–≤–æ–≤
    - ML/DL –∑–∞–¥–∞—á.
- –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (REST API / S3 API).

### –ü–æ—á–µ–º—É S3 —Ç–∞–∫ –ø–æ–ø—É–ª—è—Ä–µ–Ω?

- **–û—Ç–∫—Ä—ã—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** ‚Äî –ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –æ–±–ª–∞–∫–∞–º–∏ –∏ on-premises.
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞** (IAM, –ø–æ–ª–∏—Ç–∏–∫–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏).
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–æ–≥–æ —á–∏—Å–ª–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫** (pandas, boto3, minio-py, s3cmd –∏ –¥—Ä).

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart TB
    subgraph S3_Cloud ["S3 Cloud"]
        B1["Bucket 1"]
        B2["Bucket 2"]
        B3["Bucket N"]
        B1 --> O11["Object A"]
        B1 --> O12["Object B"]
        B2 --> O21["Object C"]
        B2 --> O22["Object D"]
        B3 --> O31["Object ..."]
    end
    user["–ö–ª–∏–µ–Ω—Ç (–∫–æ–¥, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, Data Science, ML, web)"]
    user -- " S3 API (HTTP/REST) " --> S3_Cloud
```

### –ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–ë–∞–∫–µ—Ç—ã (Buckets):**
    - –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.
    - –í –∫–∞–∂–¥–æ–º –±–∞–∫–µ—Ç–µ –º–æ–≥—É—Ç –±—ã—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã –∏ –¥–∞–∂–µ –º–∏–ª–ª–∏–∞—Ä–¥—ã –æ–±—ä–µ–∫—Ç–æ–≤.
    - –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–±–ª–∞–∫–∞.
- **–û–±—ä–µ–∫—Ç—ã (Objects):**
    - –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ —Ñ–∞–π–ª + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ + —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (–∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: `data/2024/report.csv`).
    - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º, –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞–ø–æ–∫ ‚Äî —Ç–æ–ª—å–∫–æ –∏–º–∏—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–ª—é—á–∏.
- **S3 API (REST/HTTP):**
    - –í—Å—è —Ä–∞–±–æ—Ç–∞ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã: `PUT`, `GET`, `DELETE`, `LIST` –∏ –¥—Ä.
    - –í—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ ‚Äî —ç—Ç–æ `endpoint`, –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞, –∏–º—è –±–∞–∫–µ—Ç–∞ –∏ –∏–º—è –æ–±—ä–µ–∫—Ç–∞.

### –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

1. **–ö–ª–∏–µ–Ω—Ç (–≤–∞—à –∫–æ–¥, pandas, boto3, minio-py, ML pipeline)**  
   ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤).
2. **S3 Gateway (front, API endpoint)**  
   ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ –∫–ª—é—á–∞–º).
3. **Storage Backend**  
   ‚Üí –§–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω–∏—Ç –æ–±—ä–µ–∫—Ç—ã (–¥–∏—Å–∫–∏, –∫–ª–∞—Å—Ç–µ—Ä —Å–µ—Ä–≤–µ—Ä–æ–≤, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ).
4. **–û—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É**  
   ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ñ–∞–π–ª, —Å—Ç–∞—Ç—É—Å, —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Ç.–¥.).

```mermaid
sequenceDiagram
    participant User as –ö–ª–∏–µ–Ω—Ç
    participant S3 as S3 API
    participant Storage as Storage Backend
    User ->> S3: PUT (–∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä–µ–∫—Ç)
    S3 ->> Storage: –°–æ—Ö—Ä–∞–Ω–∏ –æ–±—ä–µ–∫—Ç –∫–∞–∫ —Ñ–∞–π–ª + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    Storage -->> S3: OK
    S3 -->> User: 200 OK
    User ->> S3: GET (—Å–∫–∞—á–∞—Ç—å –æ–±—ä–µ–∫—Ç)
    S3 ->> Storage: –ù–∞–π–¥–∏ –∏ –≤–µ—Ä–Ω–∏ –æ–±—ä–µ–∫—Ç
    Storage -->> S3: –û–±—ä–µ–∫—Ç + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    S3 -->> User: –§–∞–π–ª (stream)
```

### –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è:** –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–ª–∏ –¥–∞–∂–µ –≤ —Ä–∞–∑–Ω—ã–µ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä—ã.
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–∞.
- **–ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ IAM, ACL, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ ¬´–Ω–∞ –ª–µ—Ç—É¬ª –∏ ¬´–Ω–∞ –¥–∏—Å–∫–µ¬ª.

### Demo

1) –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫–∏–µ –±–∞–∫–µ—Ç—ã –µ—Å—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–±–∞ –∫–ª–∏–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —É—Å–ø–µ—à–Ω–æ –¥–ª—è –≤—Å–µ—Ö S3 ‚Äì `list_bucket.py`
2) –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—Å–µ –±–∞–∫–µ—Ç—ã –ø—É—Å—Ç—ã–µ –∏ —Ç–∞–º –Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤ ‚Äì `list_objects.py`
3) –ü–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª c –¥–∞–Ω–Ω—ã–º–∏ —Ç–∏—Ç–∞–Ω–∏–∫–∞ –≤ S3 –±–∞–∫–µ—Ç—ã ‚Äì `upload_object.py`
4) –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤ –±–∞–∫–µ—Ç–∞—Ö –ø–æ—è–≤–∏–ª–∏—Å—å –æ–±—ä–µ–∫—Ç—ã ‚Äì `list_objects.py`
5) –°–æ–∑–¥–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –±–∞–∫–µ—Ç—ã ‚Äì `create_remove_bucket.py`
6) –°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç—ã ‚Äì `create_bucket.py`
7) –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –±–∞–∫–µ—Ç—ã - `list_bucket.py`
8) –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ DuckDB ‚Äì `duckdb_copy_to_s3.py`
9) –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ DuckDB ‚Äì `duckdb_read_from_s3.py`
10) –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Pandas ‚Äì `pandas_dataframe_to_s3.py`
11) –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Pandas ‚Äì `pandas_dataframe_from_s3.py`
12) –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—Å—ë —á—Ç–æ –º—ã –ø–∏—Å–∞–ª–∏ –µ—Å—Ç—å –≤ –±–∞–∫–µ—Ç–∞—Ö ‚Äì `list_objects.py`
